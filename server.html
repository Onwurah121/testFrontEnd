<!DOCTYPE html>
<html>

<head>
    <title>Form Example</title>
</head>

<body>
    <label for="name">First Name:</label>
    <input type="text" id="fName" name="firstName" required>
    <br><br>
    <label for="name">Last Name:</label>
    <input type="text" id="lName" name="lastName" required>
    <br><br>
    <label for="name">Password:</label>
    <input type="text" id="pass" name="password" required>
    <br><br>
    <label for="name">Gender:</label>
    <input type="text" id="gen" name="gender" required>
    <br><br>
    <label for="name">Phone:</label>
    <input type="text" id="phone" name="phoneNumber" required>
    <br><br>
    <label for="email">Email:</label>
    <input type="email" id="email" name="email" required>
    <br><br>
    <button type="button" onclick=SubmitForm()>Submit</button>

    <script>
        // Get a reference to the form element

        const SubmitForm = () => {
            const payload = {
                lastName: document.getElementById("lName").value,
                fistName: document.getElementById("fName").value,
                fistName: document.getElementById("fName").value,
                password: document.getElementById("pass").value,
                gender: document.getElementById("gen").value,
                phoneNumber: document.getElementById("phone").value,
                email: document.getElementById("email").value,
            }
            console.log(payload);
            const formData = new FormData();
            formData.append('payload', JSON.stringify(payload));
            console.log('payload', formData.get('payload'));
            const myHeaders = new Headers();
            myHeaders.append("Content-Type", "application/json");
            
            var requestOptions = {
                method: 'POST',
                headers: myHeaders,
                body: formData,
                redirect: 'follow'
            };

            fetch("https://talent-dev-api.onrender.com/api/v1/user/facilitator", requestOptions)
                .then(response => response.text())
                .then(result => console.log('result',result))
                .catch(error => console.log('error', error));
        }
    </script>
</body>

</html>
